{"id":"UldJ","dependencies":[{"name":"/mnt/c/gitrepos/r3f-input-field/tsconfig.json","includedInParent":true,"mtime":1614590070518},{"name":"/mnt/c/gitrepos/r3f-input-field/package.json","includedInParent":true,"mtime":1614602508683},{"name":"./Vec3","loc":{"line":1,"column":35},"parent":"/mnt/c/gitrepos/r3f-input-field/src/utils.ts","resolved":"/mnt/c/gitrepos/r3f-input-field/src/Vec3.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.blink=t,exports.getCursorPosition=r,exports.getTextPosition=o,exports.getTextSize=i,exports.insertStrAt=n,exports.removeCharAt=s;var e=require(\"./Vec3\");function t(e,t){e.current.visible=Date.now()%t<t/2}function r(t){var r=t.position,o=-t.width/2+.1;return r.lift(e.MIN_DISTANCE).setXYZ({x:o})}function o(e,t){return e.moveY(-.3).moveX(t.left)}function i(t){var r;if(t){var o=t.geometry,i=new e.Vec3;return o.computeBoundingBox(),null===(r=o.boundingBox)||void 0===r||r.getSize(i),i}}function n(e,t,r){var o=e.split(\"\");return o.splice(t,0,r),o.join(\"\")}function s(e,t){var r=e.split(\"\");return r.splice(t,1),r.join(\"\")}"},"sourceMaps":{"js":{"mappings":[{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":0}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":13}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":20}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":35}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":43}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":56}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":57}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":64}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":68}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":76}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":82}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":84}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":92}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":110}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":112}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":120}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":136}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":138}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":146}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":158}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":160}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":168}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":180}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":182}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":190}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":203}},{"source":"src/utils.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":205}},{"source":"src/utils.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":209}},{"source":"src/utils.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":211}},{"source":"src/utils.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":219}},{"source":"src/utils.ts","name":null,"original":{"line":7,"column":6},"generated":{"line":1,"column":229}},{"source":"src/utils.ts","name":null,"original":{"line":7,"column":16},"generated":{"line":1,"column":238}},{"source":"src/utils.ts","name":null,"original":{"line":7,"column":22},"generated":{"line":1,"column":240}},{"source":"src/utils.ts","name":null,"original":{"line":7,"column":43},"generated":{"line":1,"column":242}},{"source":"src/utils.ts","name":null,"original":{"line":8,"column":2},"generated":{"line":1,"column":245}},{"source":"src/utils.ts","name":null,"original":{"line":8,"column":6},"generated":{"line":1,"column":247}},{"source":"src/utils.ts","name":null,"original":{"line":8,"column":15},"generated":{"line":1,"column":255}},{"source":"src/utils.ts","name":null,"original":{"line":8,"column":25},"generated":{"line":1,"column":263}},{"source":"src/utils.ts","name":null,"original":{"line":8,"column":30},"generated":{"line":1,"column":268}},{"source":"src/utils.ts","name":null,"original":{"line":8,"column":38},"generated":{"line":1,"column":274}},{"source":"src/utils.ts","name":null,"original":{"line":8,"column":52},"generated":{"line":1,"column":276}},{"source":"src/utils.ts","name":null,"original":{"line":8,"column":66},"generated":{"line":1,"column":278}},{"source":"src/utils.ts","name":null,"original":{"line":11,"column":6},"generated":{"line":1,"column":280}},{"source":"src/utils.ts","name":null,"original":{"line":11,"column":16},"generated":{"line":1,"column":289}},{"source":"src/utils.ts","name":null,"original":{"line":11,"column":34},"generated":{"line":1,"column":291}},{"source":"src/utils.ts","name":null,"original":{"line":11,"column":36},"generated":{"line":1,"column":294}},{"source":"src/utils.ts","name":null,"original":{"line":11,"column":36},"generated":{"line":1,"column":298}},{"source":"src/utils.ts","name":null,"original":{"line":11,"column":44},"generated":{"line":1,"column":300}},{"source":"src/utils.ts","name":null,"original":{"line":11,"column":44},"generated":{"line":1,"column":302}},{"source":"src/utils.ts","name":null,"original":{"line":14,"column":8},"generated":{"line":1,"column":311}},{"source":"src/utils.ts","name":null,"original":{"line":11,"column":51},"generated":{"line":1,"column":314}},{"source":"src/utils.ts","name":null,"original":{"line":11,"column":51},"generated":{"line":1,"column":316}},{"source":"src/utils.ts","name":null,"original":{"line":14,"column":32},"generated":{"line":1,"column":322}},{"source":"src/utils.ts","name":null,"original":{"line":12,"column":32},"generated":{"line":1,"column":324}},{"source":"src/utils.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":327}},{"source":"src/utils.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":334}},{"source":"src/utils.ts","name":null,"original":{"line":16,"column":18},"generated":{"line":1,"column":336}},{"source":"src/utils.ts","name":null,"original":{"line":16,"column":23},"generated":{"line":1,"column":341}},{"source":"src/utils.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":343}},{"source":"src/utils.ts","name":null,"original":{"line":16,"column":37},"generated":{"line":1,"column":357}},{"source":"src/utils.ts","name":null,"original":{"line":16,"column":44},"generated":{"line":1,"column":364}},{"source":"src/utils.ts","name":null,"original":{"line":16,"column":46},"generated":{"line":1,"column":365}},{"source":"src/utils.ts","name":null,"original":{"line":16,"column":49},"generated":{"line":1,"column":367}},{"source":"src/utils.ts","name":null,"original":{"line":19,"column":6},"generated":{"line":1,"column":371}},{"source":"src/utils.ts","name":null,"original":{"line":19,"column":16},"generated":{"line":1,"column":380}},{"source":"src/utils.ts","name":null,"original":{"line":19,"column":32},"generated":{"line":1,"column":382}},{"source":"src/utils.ts","name":null,"original":{"line":19,"column":52},"generated":{"line":1,"column":384}},{"source":"src/utils.ts","name":null,"original":{"line":22,"column":9},"generated":{"line":1,"column":387}},{"source":"src/utils.ts","name":null,"original":{"line":22,"column":9},"generated":{"line":1,"column":394}},{"source":"src/utils.ts","name":null,"original":{"line":22,"column":22},"generated":{"line":1,"column":396}},{"source":"src/utils.ts","name":null,"original":{"line":20,"column":29},"generated":{"line":1,"column":403}},{"source":"src/utils.ts","name":null,"original":{"line":22,"column":47},"generated":{"line":1,"column":407}},{"source":"src/utils.ts","name":null,"original":{"line":22,"column":53},"generated":{"line":1,"column":413}},{"source":"src/utils.ts","name":null,"original":{"line":22,"column":61},"generated":{"line":1,"column":415}},{"source":"src/utils.ts","name":null,"original":{"line":25,"column":6},"generated":{"line":1,"column":421}},{"source":"src/utils.ts","name":null,"original":{"line":25,"column":16},"generated":{"line":1,"column":430}},{"source":"src/utils.ts","name":null,"original":{"line":25,"column":28},"generated":{"line":1,"column":432}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":435}},{"source":"src/utils.ts","name":null,"original":{"line":53,"column":1},"generated":{"line":1,"column":439}},{"source":"src/utils.ts","name":null,"original":{"line":26,"column":6},"generated":{"line":1,"column":441}},{"source":"src/utils.ts","name":null,"original":{"line":26,"column":7},"generated":{"line":1,"column":444}},{"source":"src/utils.ts","name":null,"original":{"line":26,"column":6},"generated":{"line":1,"column":446}},{"source":"src/utils.ts","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":447}},{"source":"src/utils.ts","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":451}},{"source":"src/utils.ts","name":null,"original":{"line":30,"column":23},"generated":{"line":1,"column":453}},{"source":"src/utils.ts","name":null,"original":{"line":30,"column":27},"generated":{"line":1,"column":455}},{"source":"src/utils.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":1,"column":464}},{"source":"src/utils.ts","name":null,"original":{"line":31,"column":15},"generated":{"line":1,"column":466}},{"source":"src/utils.ts","name":null,"original":{"line":31,"column":19},"generated":{"line":1,"column":470}},{"source":"src/utils.ts","name":null,"original":{"line":31,"column":15},"generated":{"line":1,"column":472}},{"source":"src/utils.ts","name":null,"original":{"line":36,"column":9},"generated":{"line":1,"column":477}},{"source":"src/utils.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":1,"column":484}},{"source":"src/utils.ts","name":null,"original":{"line":33,"column":11},"generated":{"line":1,"column":486}},{"source":"src/utils.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":1,"column":507}},{"source":"src/utils.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":515}},{"source":"src/utils.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":517}},{"source":"src/utils.ts","name":null,"original":{"line":34,"column":11},"generated":{"line":1,"column":519}},{"source":"src/utils.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":1,"column":538}},{"source":"src/utils.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":1,"column":542}},{"source":"src/utils.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":1,"column":545}},{"source":"src/utils.ts","name":null,"original":{"line":34,"column":24},"generated":{"line":1,"column":547}},{"source":"src/utils.ts","name":null,"original":{"line":34,"column":32},"generated":{"line":1,"column":555}},{"source":"src/utils.ts","name":null,"original":{"line":36,"column":9},"generated":{"line":1,"column":558}},{"source":"src/utils.ts","name":null,"original":{"line":39,"column":6},"generated":{"line":1,"column":561}},{"source":"src/utils.ts","name":null,"original":{"line":39,"column":16},"generated":{"line":1,"column":570}},{"source":"src/utils.ts","name":null,"original":{"line":39,"column":28},"generated":{"line":1,"column":572}},{"source":"src/utils.ts","name":null,"original":{"line":39,"column":39},"generated":{"line":1,"column":574}},{"source":"src/utils.ts","name":null,"original":{"line":39,"column":59},"generated":{"line":1,"column":576}},{"source":"src/utils.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":579}},{"source":"src/utils.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":583}},{"source":"src/utils.ts","name":null,"original":{"line":40,"column":19},"generated":{"line":1,"column":585}},{"source":"src/utils.ts","name":null,"original":{"line":40,"column":21},"generated":{"line":1,"column":587}},{"source":"src/utils.ts","name":null,"original":{"line":40,"column":27},"generated":{"line":1,"column":593}},{"source":"src/utils.ts","name":null,"original":{"line":44,"column":9},"generated":{"line":1,"column":597}},{"source":"src/utils.ts","name":null,"original":{"line":42,"column":2},"generated":{"line":1,"column":604}},{"source":"src/utils.ts","name":null,"original":{"line":42,"column":11},"generated":{"line":1,"column":606}},{"source":"src/utils.ts","name":null,"original":{"line":42,"column":18},"generated":{"line":1,"column":613}},{"source":"src/utils.ts","name":null,"original":{"line":42,"column":30},"generated":{"line":1,"column":615}},{"source":"src/utils.ts","name":null,"original":{"line":42,"column":33},"generated":{"line":1,"column":617}},{"source":"src/utils.ts","name":null,"original":{"line":44,"column":9},"generated":{"line":1,"column":620}},{"source":"src/utils.ts","name":null,"original":{"line":44,"column":18},"generated":{"line":1,"column":622}},{"source":"src/utils.ts","name":null,"original":{"line":44,"column":23},"generated":{"line":1,"column":627}},{"source":"src/utils.ts","name":null,"original":{"line":47,"column":6},"generated":{"line":1,"column":631}},{"source":"src/utils.ts","name":null,"original":{"line":47,"column":16},"generated":{"line":1,"column":640}},{"source":"src/utils.ts","name":null,"original":{"line":47,"column":29},"generated":{"line":1,"column":642}},{"source":"src/utils.ts","name":null,"original":{"line":47,"column":40},"generated":{"line":1,"column":644}},{"source":"src/utils.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":1,"column":647}},{"source":"src/utils.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":1,"column":651}},{"source":"src/utils.ts","name":null,"original":{"line":48,"column":19},"generated":{"line":1,"column":653}},{"source":"src/utils.ts","name":null,"original":{"line":48,"column":21},"generated":{"line":1,"column":655}},{"source":"src/utils.ts","name":null,"original":{"line":48,"column":27},"generated":{"line":1,"column":661}},{"source":"src/utils.ts","name":null,"original":{"line":52,"column":9},"generated":{"line":1,"column":665}},{"source":"src/utils.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":1,"column":672}},{"source":"src/utils.ts","name":null,"original":{"line":50,"column":11},"generated":{"line":1,"column":674}},{"source":"src/utils.ts","name":null,"original":{"line":50,"column":18},"generated":{"line":1,"column":681}},{"source":"src/utils.ts","name":null,"original":{"line":50,"column":30},"generated":{"line":1,"column":683}},{"source":"src/utils.ts","name":null,"original":{"line":52,"column":9},"generated":{"line":1,"column":686}},{"source":"src/utils.ts","name":null,"original":{"line":52,"column":18},"generated":{"line":1,"column":688}},{"source":"src/utils.ts","name":null,"original":{"line":52,"column":23},"generated":{"line":1,"column":693}}],"sources":{"src/utils.ts":"import { RefObject } from \"react\";\n\nimport { Padding } from \"./types\";\nimport { MIN_DISTANCE, Vec3 } from \"./Vec3\";\nimport { Geometry, Mesh } from \"three\";\n\nexport function blink(ref: RefObject<any>, everyMillis: number) {\n  ref.current!.visible = Date.now() % everyMillis < everyMillis / 2;\n}\n\nexport function getCursorPosition({ position, width }) {\n  const ALIGN_TO_BACKGROUND_X = 0.1;\n\n  const startOfField = -width / 2 + ALIGN_TO_BACKGROUND_X;\n\n  return position.lift(MIN_DISTANCE).setXYZ({ x: startOfField });\n}\n\nexport function getTextPosition(basePosition: Vec3, padding: Padding) {\n  const ALIGN_TO_CURSOR_Y = -0.3;\n\n  return basePosition.moveY(ALIGN_TO_CURSOR_Y).moveX(padding.left);\n}\n\nexport function getTextSize(mesh?: Mesh) {\n  if (!mesh) {\n    return undefined;\n  }\n\n  const { geometry } = mesh;\n  const size = new Vec3();\n\n  geometry.computeBoundingBox();\n  geometry.boundingBox?.getSize(size);\n\n  return size;\n}\n\nexport function insertStrAt(s: string, startIndex: number, inputStr: string) {\n  const stringAr = s.split(\"\");\n\n  stringAr.splice(startIndex, 0, inputStr);\n\n  return stringAr.join(\"\");\n}\n\nexport function removeCharAt(s: string, startIndex) {\n  const stringAr = s.split(\"\");\n\n  stringAr.splice(startIndex, 1);\n\n  return stringAr.join(\"\");\n}\n"},"lineCount":null}},"error":null,"hash":"32c2233c1eb615972af6a3b27866407d","cacheData":{"env":{}}}