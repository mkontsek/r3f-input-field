{"id":"ae26","dependencies":[{"name":"/mnt/c/gitrepos/r3f-input-field/tsconfig.json","includedInParent":true,"mtime":1614590070518},{"name":"/mnt/c/gitrepos/r3f-input-field/package.json","includedInParent":true,"mtime":1614602508683},{"name":"react/jsx-runtime","loc":{"line":23,"column":43},"parent":"/mnt/c/gitrepos/r3f-input-field/src/cursor/TextCursor.tsx","resolved":"/mnt/c/gitrepos/r3f-input-field/node_modules/react/jsx-runtime.js"},{"name":"react","loc":{"line":24,"column":18},"parent":"/mnt/c/gitrepos/r3f-input-field/src/cursor/TextCursor.tsx","resolved":"/mnt/c/gitrepos/r3f-input-field/node_modules/react/index.js"},{"name":"react-three-fiber","loc":{"line":25,"column":25},"parent":"/mnt/c/gitrepos/r3f-input-field/src/cursor/TextCursor.tsx","resolved":"/mnt/c/gitrepos/r3f-input-field/node_modules/react-three-fiber/web.js"},{"name":"../utils","loc":{"line":26,"column":35},"parent":"/mnt/c/gitrepos/r3f-input-field/src/cursor/TextCursor.tsx","resolved":"/mnt/c/gitrepos/r3f-input-field/src/utils.ts"},{"name":"../Vec3","loc":{"line":27,"column":29},"parent":"/mnt/c/gitrepos/r3f-input-field/src/cursor/TextCursor.tsx","resolved":"/mnt/c/gitrepos/r3f-input-field/src/Vec3.ts"},{"name":"../context","loc":{"line":28,"column":41},"parent":"/mnt/c/gitrepos/r3f-input-field/src/cursor/TextCursor.tsx","resolved":"/mnt/c/gitrepos/r3f-input-field/src/context/index.ts"},{"name":"./Service","loc":{"line":29,"column":100},"parent":"/mnt/c/gitrepos/r3f-input-field/src/cursor/TextCursor.tsx","resolved":"/mnt/c/gitrepos/r3f-input-field/src/cursor/Service.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.TextCursor=f;var e=require(\"react/jsx-runtime\"),r=a(require(\"react\")),t=require(\"react-three-fiber\"),o=require(\"../utils\"),n=require(\"../Vec3\"),i=require(\"../context\"),u=require(\"./Service\");function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){return(s=Object.assign||function(e){for(var r,t=1,o=arguments.length;t<o;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)},c=function(e,r){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(t[o[n]]=e[o[n]])}return t};function f(a){var f=a.position,l=a.textMesh,d=a.color,p=void 0===d?\"black\":d,x=(a.fontSize,c(a,[\"position\",\"textMesh\",\"color\",\"fontSize\"])),b=r.default.useContext(i.KeyboardInterceptContext),v=b.buffer,O=b.cursorIndex,y=b.handleTextTooWide,h=r.default.useState(f),S=h[0],j=h[1],_=r.default.useRef({visible:!0});return(0,t.useFrame)(function(){(0,o.blink)(_,u.CURSOR_BLINK_INTERVAL)}),r.default.useEffect(function(){var e=(0,o.getTextSize)(l);if(e){var r=e.x>0?u.CHAR_PAD:0,t=(0,u.getWhitespacePadding)(v,O),n=e.x+r+t,i=f.x+n;y(n)||j(S.setXYZ({x:i}))}},[v,O]),(0,e.jsxs)(\"mesh\",s({ref:_,position:S.raw()},x,{children:[(0,e.jsx)(\"boxBufferGeometry\",{args:[u.CURSOR_WIDTH,u.CURSOR_HEIGHT,n.MIN_DISTANCE]},void 0),(0,e.jsx)(\"meshStandardMaterial\",{color:p},void 0)]}),void 0)}"},"sourceMaps":{"js":{"mappings":[{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":0}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":13}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":20}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":35}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":43}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":56}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":57}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":64}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":68}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":76}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":87}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":89}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":93}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":95}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":103}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":124}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":126}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":128}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":136}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":146}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":148}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":156}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":177}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":179}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":187}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":199}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":201}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":209}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":220}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":222}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":230}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":244}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":246}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":254}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":267}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":276}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":278}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":281}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":288}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":291}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":293}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":304}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":306}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":307}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":315}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":318}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":322}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":324}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":335}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":342}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":344}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":351}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":359}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":368}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":371}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":375}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":379}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":381}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":383}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":385}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":387}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":397}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":404}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":406}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":408}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":412}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":416}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":420}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":425}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":427}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":437}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":440}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":447}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":457}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":472}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":477}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":479}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":484}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":486}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":489}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":491}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":495}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":502}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":506}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":512}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":517}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":529}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":531}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":540}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":542}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":545}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":549}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":551}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":554}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":558}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":562}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":567}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":569}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":576}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":586}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":601}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":606}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":608}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":612}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":614}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":622}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":625}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":629}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":631}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":634}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":636}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":640}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":643}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":649}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":652}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":671}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":678}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":700}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":701}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":705}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":707}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":709}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":713}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":715}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":722}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":744}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":747}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":749}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":751}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":758}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":762}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":764}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":772}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":774}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":778}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":781}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":788}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":798}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":819}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":824}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":826}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":828}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":834}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":836}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":838}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":842}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":844}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":846}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":851}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":63,"column":1},"generated":{"line":1,"column":858}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":23,"column":6},"generated":{"line":1,"column":861}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":23,"column":16},"generated":{"line":1,"column":870}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":23,"column":27},"generated":{"line":1,"column":872}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":875}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":879}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":24,"column":10},"generated":{"line":1,"column":881}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":24,"column":10},"generated":{"line":1,"column":883}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":25,"column":2},"generated":{"line":1,"column":892}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":25,"column":10},"generated":{"line":1,"column":894}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":25,"column":10},"generated":{"line":1,"column":896}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":905}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":907}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":909}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":915}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":26,"column":7},"generated":{"line":1,"column":922}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":26,"column":7},"generated":{"line":1,"column":926}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":26,"column":10},"generated":{"line":1,"column":928}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":26,"column":17},"generated":{"line":1,"column":936}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":28,"column":5},"generated":{"line":1,"column":938}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":27,"column":10},"generated":{"line":1,"column":941}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":27,"column":10},"generated":{"line":1,"column":943}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":28,"column":14},"generated":{"line":1,"column":952}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":28,"column":14},"generated":{"line":1,"column":954}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":23,"column":27},"generated":{"line":1,"column":956}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":23,"column":27},"generated":{"line":1,"column":957}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":23,"column":27},"generated":{"line":1,"column":968}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":23,"column":27},"generated":{"line":1,"column":979}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":23,"column":27},"generated":{"line":1,"column":987}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":1001}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":30,"column":53},"generated":{"line":1,"column":1003}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":30,"column":59},"generated":{"line":1,"column":1005}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":30,"column":59},"generated":{"line":1,"column":1013}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":31,"column":4},"generated":{"line":1,"column":1024}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":30,"column":53},"generated":{"line":1,"column":1026}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":1052}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":30,"column":16},"generated":{"line":1,"column":1054}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":30,"column":16},"generated":{"line":1,"column":1056}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":30,"column":18},"generated":{"line":1,"column":1063}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":30,"column":29},"generated":{"line":1,"column":1065}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":30,"column":29},"generated":{"line":1,"column":1067}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":30,"column":31},"generated":{"line":1,"column":1079}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":30,"column":48},"generated":{"line":1,"column":1081}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":30,"column":48},"generated":{"line":1,"column":1083}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":33,"column":8},"generated":{"line":1,"column":1101}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":33,"column":46},"generated":{"line":1,"column":1103}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":33,"column":52},"generated":{"line":1,"column":1105}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":33,"column":52},"generated":{"line":1,"column":1113}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":33,"column":61},"generated":{"line":1,"column":1122}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":33,"column":9},"generated":{"line":1,"column":1125}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":33,"column":23},"generated":{"line":1,"column":1127}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":33,"column":23},"generated":{"line":1,"column":1129}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":33,"column":25},"generated":{"line":1,"column":1132}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":33,"column":42},"generated":{"line":1,"column":1134}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":33,"column":42},"generated":{"line":1,"column":1136}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":34,"column":8},"generated":{"line":1,"column":1139}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":34,"column":18},"generated":{"line":1,"column":1141}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":34,"column":24},"generated":{"line":1,"column":1143}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":34,"column":24},"generated":{"line":1,"column":1151}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":34,"column":31},"generated":{"line":1,"column":1158}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":34,"column":33},"generated":{"line":1,"column":1159}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":34,"column":42},"generated":{"line":1,"column":1168}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":1172}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":36,"column":11},"generated":{"line":1,"column":1179}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":36,"column":11},"generated":{"line":1,"column":1181}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":36,"column":11},"generated":{"line":1,"column":1183}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":36,"column":11},"generated":{"line":1,"column":1193}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":37,"column":10},"generated":{"line":1,"column":1205}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":37,"column":10},"generated":{"line":1,"column":1207}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":37,"column":10},"generated":{"line":1,"column":1209}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":37,"column":10},"generated":{"line":1,"column":1216}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":37,"column":19},"generated":{"line":1,"column":1218}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":37,"column":4},"generated":{"line":1,"column":1220}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":1245}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":1247}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":1255}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":40,"column":18},"generated":{"line":1,"column":1265}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":41,"column":10},"generated":{"line":1,"column":1276}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":41,"column":10},"generated":{"line":1,"column":1280}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":41,"column":17},"generated":{"line":1,"column":1283}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":41,"column":29},"generated":{"line":1,"column":1285}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":41,"column":29},"generated":{"line":1,"column":1287}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":41,"column":29},"generated":{"line":1,"column":1300}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":43,"column":8},"generated":{"line":1,"column":1303}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":43,"column":9},"generated":{"line":1,"column":1306}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":43,"column":8},"generated":{"line":1,"column":1308}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":47,"column":10},"generated":{"line":1,"column":1309}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":47,"column":10},"generated":{"line":1,"column":1313}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":47,"column":36},"generated":{"line":1,"column":1315}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":47,"column":41},"generated":{"line":1,"column":1317}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":47,"column":45},"generated":{"line":1,"column":1319}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":47,"column":49},"generated":{"line":1,"column":1321}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":47,"column":36},"generated":{"line":1,"column":1323}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":47,"column":60},"generated":{"line":1,"column":1332}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":48,"column":10},"generated":{"line":1,"column":1334}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":48,"column":30},"generated":{"line":1,"column":1337}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":48,"column":51},"generated":{"line":1,"column":1339}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":48,"column":51},"generated":{"line":1,"column":1341}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":48,"column":51},"generated":{"line":1,"column":1363}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":48,"column":59},"generated":{"line":1,"column":1365}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":49,"column":10},"generated":{"line":1,"column":1368}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":49,"column":21},"generated":{"line":1,"column":1370}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":49,"column":26},"generated":{"line":1,"column":1372}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":49,"column":30},"generated":{"line":1,"column":1374}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":49,"column":56},"generated":{"line":1,"column":1376}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":50,"column":10},"generated":{"line":1,"column":1378}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":50,"column":17},"generated":{"line":1,"column":1380}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":50,"column":26},"generated":{"line":1,"column":1382}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":50,"column":30},"generated":{"line":1,"column":1384}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":52,"column":9},"generated":{"line":1,"column":1386}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":52,"column":27},"generated":{"line":1,"column":1388}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":53,"column":6},"generated":{"line":1,"column":1392}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":53,"column":24},"generated":{"line":1,"column":1394}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":53,"column":39},"generated":{"line":1,"column":1396}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":53,"column":46},"generated":{"line":1,"column":1403}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":53,"column":48},"generated":{"line":1,"column":1404}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":53,"column":51},"generated":{"line":1,"column":1406}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":55,"column":5},"generated":{"line":1,"column":1413}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":55,"column":6},"generated":{"line":1,"column":1414}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":55,"column":14},"generated":{"line":1,"column":1416}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":1421}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":1423}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":1425}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":1431}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":1438}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":1440}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":58,"column":10},"generated":{"line":1,"column":1441}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":58,"column":15},"generated":{"line":1,"column":1445}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":58,"column":24},"generated":{"line":1,"column":1447}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":58,"column":34},"generated":{"line":1,"column":1456}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":58,"column":49},"generated":{"line":1,"column":1458}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":58,"column":60},"generated":{"line":1,"column":1465}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":58,"column":69},"generated":{"line":1,"column":1467}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":58,"column":69},"generated":{"line":1,"column":1468}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":58,"column":69},"generated":{"line":1,"column":1477}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":59,"column":6},"generated":{"line":1,"column":1479}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":59,"column":6},"generated":{"line":1,"column":1481}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":59,"column":6},"generated":{"line":1,"column":1483}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":59,"column":6},"generated":{"line":1,"column":1488}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":59,"column":6},"generated":{"line":1,"column":1508}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":59,"column":25},"generated":{"line":1,"column":1509}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":59,"column":31},"generated":{"line":1,"column":1514}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":59,"column":32},"generated":{"line":1,"column":1515}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":59,"column":31},"generated":{"line":1,"column":1517}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":59,"column":46},"generated":{"line":1,"column":1530}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":59,"column":31},"generated":{"line":1,"column":1532}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":59,"column":61},"generated":{"line":1,"column":1546}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":59,"column":31},"generated":{"line":1,"column":1548}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":59,"column":74},"generated":{"line":1,"column":1568}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":60,"column":6},"generated":{"line":1,"column":1572}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":60,"column":6},"generated":{"line":1,"column":1574}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":60,"column":6},"generated":{"line":1,"column":1576}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":60,"column":6},"generated":{"line":1,"column":1581}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":60,"column":6},"generated":{"line":1,"column":1604}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":60,"column":28},"generated":{"line":1,"column":1605}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":60,"column":35},"generated":{"line":1,"column":1611}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":60,"column":40},"generated":{"line":1,"column":1619}},{"source":"src/cursor/TextCursor.tsx","name":null,"original":{"line":60,"column":44},"generated":{"line":1,"column":1630}}],"sources":{"src/cursor/TextCursor.tsx":"import React from \"react\";\nimport { useFrame } from \"react-three-fiber\";\nimport { Mesh } from \"three\";\n\nimport { blink, getTextSize } from \"../utils\";\nimport { MIN_DISTANCE, Vec3 } from \"../Vec3\";\nimport { KeyboardInterceptContext } from \"../context\";\nimport {\n  CHAR_PAD,\n  CURSOR_BLINK_INTERVAL,\n  CURSOR_HEIGHT,\n  CURSOR_WIDTH,\n  getWhitespacePadding,\n} from \"./Service\";\n\ntype Props = {\n  position: Vec3;\n  color?: string;\n  textMesh?: Mesh;\n  fontSize: number;\n};\n\nexport function TextCursor({\n  position,\n  textMesh,\n  color = \"black\",\n  fontSize,\n  ...restProps\n}: Props) {\n  const { buffer, cursorIndex, handleTextTooWide } = React.useContext(\n    KeyboardInterceptContext\n  );\n  const [cursorPosition, setCursorPosition] = React.useState(position);\n  const meshRef = React.useRef({ visible: true });\n\n  useFrame(() => {\n    blink(meshRef, CURSOR_BLINK_INTERVAL);\n  });\n\n  React.useEffect(() => {\n    const size = getTextSize(textMesh);\n\n    if (!size) {\n      return;\n    }\n\n    const paddingIfAtLeastOneChar = size.x > 0 ? CHAR_PAD : 0;\n    const whitespacePadding = getWhitespacePadding(buffer, cursorIndex);\n    const newWidth = size.x + paddingIfAtLeastOneChar + whitespacePadding;\n    const newX = position.x + newWidth;\n\n    if (!handleTextTooWide(newWidth)) {\n      setCursorPosition(cursorPosition.setXYZ({ x: newX }));\n    }\n  }, [buffer, cursorIndex]);\n\n  return (\n    <mesh ref={meshRef} position={cursorPosition.raw()} {...restProps}>\n      <boxBufferGeometry args={[CURSOR_WIDTH, CURSOR_HEIGHT, MIN_DISTANCE]} />\n      <meshStandardMaterial color={color} />\n    </mesh>\n  );\n}\n"},"lineCount":null}},"error":null,"hash":"7e1d4a6524dac1a54fa2b726faf7643b","cacheData":{"env":{}}}